(this["webpackJsonpreset-password-success"]=this["webpackJsonpreset-password-success"]||[]).push([[0],{118:function(e,s,t){},120:function(e,s,t){},191:function(e,s,t){"use strict";t.r(s);var n=t(0),o=t.n(n),a=t(18),r=t.n(a),c=(t(118),t(88)),i=(t(119),t(120),t(194)),l=t(113),d=t(196),u=t(195),p=t(35),m=t(56),w=t.n(m);var h=function(e,s,t){w.a.ajax({type:"POST",url:"https://sv-communityadvocates.org/api/react/reset-password/validate_token/",data:{token:e},error:function(e){t&&t(e)},success:function(e){s&&s(e)}})},f=t(20);function j(e){for(var s=window.location.search.substring(1).split("&"),t=0;t<s.length;t++){var n=s[t].split("=");if(console.log(n),n[0]==e)return n[1]}return 1}var b=function(){var e=i.a.useForm(),s=Object(c.a)(e,1)[0],t=Object(n.useState)(null),o=Object(c.a)(t,2),a=(o[0],o[1]);return Object(n.useEffect)((function(){var e=j("token");h(e,(function(t){e?s.setFieldsValue({token:e}):s.setFieldsValue({token:"-1"})}),(function(e){d.a.error({title:"Invalid token",content:"The link seems to be broken, please request a new link.",onOk:function(){window.location.href="/reset-password/"}})})),a(j("token"))}),[]),Object(f.jsxs)("div",{className:"container mainpage my-5",children:[Object(f.jsx)("h2",{style:{textAlign:"center"},children:"Reset password"}),Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)(i.a,{className:"form-part",style:{maxWidth:"720px"},name:"reset-password",form:s,onFinish:function(e){console.log(e),w.a.ajax({type:"POST",url:"https://sv-communityadvocates.org/api/react/reset-password/confirm/",data:e,error:function(e){console.log(e),l.a.error({message:"Password update failed",description:"An error happened!"})},success:function(e){console.log(e),s.resetFields(),l.a.success({message:"Password update successfully",description:"Your password has beed update successfully"}),d.a.success({content:"You password has been updated, you will now be redirected to the login page",onOk:function(){window.location.href="/admin/login/"}})}})},onFinishFailed:function(e){console.log("Failed:",e)},layout:"vertical",initialValues:{password:"",confirm_password:"",token:""},children:[Object(f.jsx)(i.a.Item,{hidden:!0,name:"token",children:Object(f.jsx)("input",{})}),Object(f.jsx)(i.a.Item,{label:"New password",name:"password",help:"Your password need to have at least 8 characters",rules:[{required:!0,message:"Please input your new password!",min:8}],children:Object(f.jsx)(u.a.Password,{})}),Object(f.jsx)(i.a.Item,{label:"Confirm password",name:"confirm_password",rules:[{required:!0,message:"Please input your new password again!"},function(e){var s=e.getFieldValue;return{validator:function(e,t){return t&&s("password")!==t?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(f.jsx)(u.a.Password,{})}),Object(f.jsx)(i.a.Item,{style:{float:"right"},children:Object(f.jsx)(p.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,197)).then((function(s){var t=s.getCLS,n=s.getFID,o=s.getFCP,a=s.getLCP,r=s.getTTFB;t(e),n(e),o(e),a(e),r(e)}))};r.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(b,{})}),document.getElementById("root")),g()}},[[191,1,2]]]);
//# sourceMappingURL=main.dd14c617.chunk.js.map